{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport data, { answers } from \"../database/data\";\nimport { useDispatch } from \"react-redux\";\n\n//redux actions\nimport * as Action from '../redux/question_reducer';\nimport { getServerData } from \"../helper/helper\";\n\n//fetch question hook to fetch api data and set value to store\nexport const useFetchQuestion = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [getData, setGetData] = useState({\n    isLoading: false,\n    apiData: [],\n    serverError: null\n  });\n  useEffect(() => {\n    setGetData(prev => ({\n      ...prev,\n      isLoading: true\n    }));\n\n    //async function fetch backend data\n    (async () => {\n      try {\n        let question = await data;\n        const [{\n          questions,\n          answers\n        }] = await getServerData('http://localhost:5000/api/questions');\n        console.log({\n          questions,\n          answers\n        });\n        if (question.length > 0) {\n          setGetData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setGetData(prev => ({\n            ...prev,\n            apiData: {\n              question,\n              answers\n            }\n          }));\n\n          //dispatch an action\n          dispatch(Action.startExamAction({\n            question,\n            answers\n          }));\n        } else {\n          throw new Error(\"No Questions Avaliable\");\n        }\n      } catch (error) {\n        setGetData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        setGetData(prev => ({\n          ...prev,\n          serverError: error\n        }));\n      }\n    })();\n  }, [dispatch]);\n  return [getData, setGetData];\n};\n\n//moveAction dispatch function\n_s(useFetchQuestion, \"UM4zN8irxUUs1zH9OgvS0bKsBIo=\", false, function () {\n  return [useDispatch];\n});\nexport const MoveNextQuestion = () => async dispatch => {\n  try {\n    dispatch(Action.moveNextAction()); //increase trace by 1\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//prevAction dispatch function\nexport const MovePrevQuestion = () => async dispatch => {\n  try {\n    dispatch(Action.movePrevAction()); //decrease trace by 1\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["useEffect","useState","data","answers","useDispatch","Action","getServerData","useFetchQuestion","_s","dispatch","getData","setGetData","isLoading","apiData","serverError","prev","question","questions","console","log","length","startExamAction","Error","error","MoveNextQuestion","moveNextAction","MovePrevQuestion","movePrevAction"],"sources":["C:/Users/Pahan/my-project-app/client1/src/hooks/FetchQuestion.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport data, { answers } from \"../database/data\"\r\nimport { useDispatch } from \"react-redux\"\r\n\r\n//redux actions\r\nimport * as Action from '../redux/question_reducer'\r\nimport { getServerData } from \"../helper/helper\"\r\n\r\n\r\n//fetch question hook to fetch api data and set value to store\r\nexport const useFetchQuestion = () => {\r\n    const dispatch = useDispatch(); \r\n    const [getData, setGetData] = useState ( { isLoading : false, apiData : [], serverError : null});\r\n\r\n    useEffect(()=>{\r\n        setGetData(prev => ({...prev, isLoading : true}));\r\n\r\n        //async function fetch backend data\r\n        (async () => {\r\n            try{\r\n                let question = await data;\r\n                const [{ questions, answers }] = await getServerData('http://localhost:5000/api/questions')\r\n                console.log({ questions, answers })\r\n\r\n                if(question.length > 0){\r\n                    setGetData(prev => ({...prev, isLoading : false}))\r\n                    setGetData(prev => ({...prev, apiData : {question, answers}}))\r\n\r\n                    //dispatch an action\r\n                    dispatch(Action.startExamAction({question, answers}))\r\n                } else {\r\n                    throw new Error (\"No Questions Avaliable\")\r\n                }\r\n            } catch (error) {\r\n                setGetData(prev => ({...prev, isLoading : false}))\r\n                setGetData(prev => ({...prev, serverError : error}))\r\n            }\r\n        })();\r\n    },  [dispatch]);\r\n\r\n    return [getData, setGetData];\r\n}\r\n\r\n//moveAction dispatch function\r\nexport const MoveNextQuestion = () => async (dispatch) => {\r\n    try {\r\n        dispatch(Action.moveNextAction()); //increase trace by 1\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n//prevAction dispatch function\r\nexport const MovePrevQuestion = () => async (dispatch) => {\r\n    try {\r\n        dispatch(Action.movePrevAction()); //decrease trace by 1\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,IAAI,IAAIC,OAAO,QAAQ,kBAAkB;AAChD,SAASC,WAAW,QAAQ,aAAa;;AAEzC;AACA,OAAO,KAAKC,MAAM,MAAM,2BAA2B;AACnD,SAASC,aAAa,QAAQ,kBAAkB;;AAGhD;AACA,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAG;IAAEW,SAAS,EAAG,KAAK;IAAEC,OAAO,EAAG,EAAE;IAAEC,WAAW,EAAG;EAAI,CAAC,CAAC;EAEhGd,SAAS,CAAC,MAAI;IACVW,UAAU,CAACI,IAAI,KAAK;MAAC,GAAGA,IAAI;MAAEH,SAAS,EAAG;IAAI,CAAC,CAAC,CAAC;;IAEjD;IACA,CAAC,YAAY;MACT,IAAG;QACC,IAAII,QAAQ,GAAG,MAAMd,IAAI;QACzB,MAAM,CAAC;UAAEe,SAAS;UAAEd;QAAQ,CAAC,CAAC,GAAG,MAAMG,aAAa,CAAC,qCAAqC,CAAC;QAC3FY,OAAO,CAACC,GAAG,CAAC;UAAEF,SAAS;UAAEd;QAAQ,CAAC,CAAC;QAEnC,IAAGa,QAAQ,CAACI,MAAM,GAAG,CAAC,EAAC;UACnBT,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEH,SAAS,EAAG;UAAK,CAAC,CAAC,CAAC;UAClDD,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEF,OAAO,EAAG;cAACG,QAAQ;cAAEb;YAAO;UAAC,CAAC,CAAC,CAAC;;UAE9D;UACAM,QAAQ,CAACJ,MAAM,CAACgB,eAAe,CAAC;YAACL,QAAQ;YAAEb;UAAO,CAAC,CAAC,CAAC;QACzD,CAAC,MAAM;UACH,MAAM,IAAImB,KAAK,CAAE,wBAAwB,CAAC;QAC9C;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZZ,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAEH,SAAS,EAAG;QAAK,CAAC,CAAC,CAAC;QAClDD,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAED,WAAW,EAAGS;QAAK,CAAC,CAAC,CAAC;MACxD;IACJ,CAAC,EAAE,CAAC;EACR,CAAC,EAAG,CAACd,QAAQ,CAAC,CAAC;EAEf,OAAO,CAACC,OAAO,EAAEC,UAAU,CAAC;AAChC,CAAC;;AAED;AAAAH,EAAA,CAjCaD,gBAAgB;EAAA,QACRH,WAAW;AAAA;AAiChC,OAAO,MAAMoB,gBAAgB,GAAGA,CAAA,KAAM,MAAOf,QAAQ,IAAK;EACtD,IAAI;IACAA,QAAQ,CAACJ,MAAM,CAACoB,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;EACtB;AACJ,CAAC;;AAED;AACA,OAAO,MAAMG,gBAAgB,GAAGA,CAAA,KAAM,MAAOjB,QAAQ,IAAK;EACtD,IAAI;IACAA,QAAQ,CAACJ,MAAM,CAACsB,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;EACtB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}